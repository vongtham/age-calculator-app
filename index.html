<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- displays site properly based on user's device -->

  <link rel="icon" type="image/png" sizes="32x32" href="./assets/images/favicon-32x32.png">
  <link rel="stylesheet" href="style.css">
  
  <title>Frontend Mentor | Age calculator app</title>

  <!-- Feel free to remove these styles or customise in your own stylesheet ðŸ‘ -->
  <style>
    .attribution { font-size: 11px; text-align: center; }
    .attribution a { color: hsl(228, 45%, 44%); }
  </style>
</head>
<body>
  <main>
    <h1>Age calculator app</h1>
    <div class="card-calc">
      <div class="container">
        <div class="form">
          <div class="wrap">
            <label id="label-day">Day</label>
            <input type="text" placeholder="DD" id="days">
            <p id =error-day></p>
          </div>
          <div class="wrap">
            <label id="label-month">Month</label>
            <input type="text" placeholder="MM" id="months">
            <p id="error-month"></p>
          </div>
          <div class="wrap">
            <label id="label-year">Year</label>
            <input type="text" placeholder="YYYY" id="years">
            <p id="error-year"></p>
          </div>
          <button class="img-logo" onclick="calculate()">
            <img src="assets/images/icon-arrow.svg" alt="logo arrow">
          </button>
        </div>
        <div class="result">
          <p><span id="result-year">--</span> years</p>
          <p><span id="result-month">--</span> months</p>
          <p><span id =result-day>--</span> days</p>
        </div>
      </div>
    </div>
  </main>
  <script>

    // variable for manage element day
    const errorDay = document.getElementById("error-day");
    const labelDay = document.getElementById("label-day");
    const day = document.getElementById("days");
    let validDay = false;
    //variable for manage element month
    const errorMonth = document.getElementById("error-month");
    const labelMonth = document.getElementById("label-month");
    const month = document.getElementById("months");
    let validMonth = false;
    //variable for manage element year
    const errorYear = document.getElementById("error-year");
    const labelYear = document.getElementById("label-year");
    const year = document.getElementById("years");
    let validYear = false;
    //variable for result
    const resultDay = document.getElementById("result-day");
    const resultMonth = document.getElementById("result-month");
    const resultYear = document.getElementById("result-year");

    const currentDate = new Date();

    day.addEventListener("input", (e) => {
      if(!day.value) {
        errorDay.innerHTML = "This field is required";
        labelDay.style.color = "var(--clr-primary-red)";
        day.style.border = "1px solid var(--clr-primary-red)";
        return validDay = false;
      }else if(day.value > 31 || day.value < 0) {
        errorDay.innerHTML = "Must be a valid day";
        labelDay.style.color = "var(--clr-primary-red)";
        day.style.border = "1px solid var(--clr-primary-red)";
        return validDay = false;
      }else {
        errorDay.innerHTML = "";
        labelDay.style.color = "var(--clr-gray-400)";
        day.style.border = "1px solid var(--clr-gray-200)";
        return validDay = true;
      }
    })

    month.addEventListener("input", (e) => {
      if(!month.value) {
        errorMonth.innerHTML = "This field is required";
        labelMonth.style.color = "var(--clr-primary-red)";
        month.style.border = "1px solid var(--clr-primary-red)";
        return validMonth = false;
      }else if(month.value > 12 || month.value < 0) {
        errorMonth.innerHTML = "Must be a valid month";
        labelMonth.style.color = "var(--clr-primary-red)";
        month.style.border = "1px solid var(--clr-primary-red)";
        return validMonth = false;
      }else {
        errorMonth.innerHTML = "";
        labelMonth.style.color = "var(--clr-gray-400)";
        month.style.border = "1px solid var(--clr-gray-200)";
        return validMonth = true;
      }
    })

    year.addEventListener("input", (e) => {
      if(!year.value) {
        errorYear.innerHTML = "This field is required";
        labelYear.style.color = "var(--clr-primary-red)";
        year.style.border = "1px solid var(--clr-primary-red)";
        return validYear = false;
      }else if(year.value >  currentDate.getFullYear() || year.value < 0) {
        errorYear.innerHTML = "Must be a valid month";
        labelYear.style.color = "var(--clr-primary-red)";
        year.style.border = "1px solid var(--clr-primary-red)";
        return validYear = false;
      }else {
        errorYear.innerHTML = "";
        labelYear.style.color = "var(--clr-gray-400)";
        year.style.border = "1px solid var(--clr-gray-200)";
        return validYear = true;
      }
    })

    function calculate() {
      if(validDay === true && validMonth === true && validYear === true){
        var currentYear = currentDate.getFullYear();
        var currentMonth = currentDate.getMonth() + 1;
        var currentDay = currentDate.getDate();

        resultYear.innerHTML = currentYear - parseInt(year.value);
        resultMonth.innerHTML = Math.abs(currentMonth - parseInt(month.value));
        resultDay.innerHTML = Math.abs(currentDay - parseInt(day.value));
        return true;

      }else {
        console.log("something wrong");
        return false;
      }
    }

  </script>
  
  <!-- <div class="attribution">
    Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>. 
    Coded by <a href="#">Your Name Here</a>.
  </div> -->
</body>
</html>
